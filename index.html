<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="icon.png">
<title>Flag Status</title>
<style>
:root {
  --bg:#0b0f14; --card:#121722; --muted:#8aa0b8;
  --ok:#28a745; --warn:#ffc107; --bad:#dc3545; --accent:#0b5fff;
}
* { box-sizing:border-box; margin:0; padding:0; }
body { font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg); color:#e8f0ff; font-size:16px; line-height:1.4; }
header { padding:16px; background:#0d1320; border-bottom:1px solid #1c2534;
  position:sticky; top:0; z-index:100; }
h1 { font-size:20px; margin-bottom:4px; }
.sub { color:var(--muted); font-size:13px; }
main { padding:16px; display:grid; gap:16px; max-width:800px; margin:0 auto; }
.card { background:var(--card); border:1px solid #223047; border-radius:12px; padding:14px; }
.card h2 { font-size:16px; margin-bottom:8px; }
.status { display:flex; align-items:center; gap:10px; margin:6px 0; }
.pill { padding:4px 10px; border-radius:999px; font-size:13px; font-weight:600; border:1px solid #2c3a55; }
.pill.ok{background:#0d2a12;border-color:#1f6b34;color:#a9f0bf;}
.pill.bad{background:#2a1012;border-color:#6b1f2b;color:#ffb3bd;}
.pill.warn{background:#2a2410;border-color:#6b5a1f;color:#ffe7a3;}
.desc { font-size:14px; color:#d9e6ff; white-space:pre-wrap; }
.muted { color:var(--muted); font-size:12px; }
.controls { display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; }
button,select { background:#0f1a2b; color:#e8f0ff; border:1px solid #2c3a55;
  border-radius:10px; padding:12px; font-size:15px; flex:1 1 auto; min-width:100px; }
button.primary{background:#0b5fff;border-color:#0b5fff;}
button.link{background:transparent;border-color:#2c3a55;}
.row{display:flex;flex-direction:column;gap:12px;}
@media(min-width:720px){.row{flex-direction:row;}}
footer{padding:12px 16px 24px;color:var(--muted);text-align:center;font-size:12px;}
@media(max-width:480px){
  body{font-size:15px;} h1{font-size:18px;} h2{font-size:15px;}
  button,select{width:100%;font-size:15px;} .card{padding:12px;}
  footer{display:none;}
}
</style>
</head>
<body>
  <header>
    <h1>Flag Status</h1>
    <div class="sub">Live read of federal and Michigan notices. MVP build.</div>
  </header>
  <main>
    <section class="card">
      <h2>Preferences</h2>
      <div class="controls">
        <select id="stateSelect"><option value="MI">Michigan</option></select>
        <select id="notifySelect"><option value="none">None</option><option value="daily">Daily</option><option value="change">On Change</option></select>
        <button id="savePrefs" class="primary">Save</button>
        <button id="refreshBtn">Refresh</button>
      </div>
      <div class="muted" id="prefNote"></div>
    </section>
    <div class="row">
      <section class="card">
        <h2>Federal status</h2>
        <div class="status"><span id="federalPill" class="pill warn">Checking…</span><span id="federalWhen"></span></div>
        <div id="federalDesc" class="desc">—</div>
      </section>
      <section class="card">
        <h2>Michigan status</h2>
        <div class="status"><span id="statePill" class="pill warn">Checking…</span><span id="stateWhen"></span></div>
        <div id="stateDesc" class="desc">—</div>
      </section>
    </div>
    <section class="card"><h2>Notes</h2>
      <div class="desc">This MVP reads public pages. Add to Home Screen for app-like use.</div>
    </section>
  </main>
  <footer>Sources: White House + Michigan Flag Honors</footer>
<script>
function $(id){return document.getElementById(id);}
function setPill(el,state){el.className="pill "+state;el.textContent=state==="half"?"Half-staff":state==="full"?"Full-staff":"Unknown";}
async function refresh(){
  setPill($("federalPill"),"warn"); setPill($("statePill"),"warn");
  $("federalDesc").textContent="Demo federal data"; $("stateDesc").textContent="Demo Michigan data";
  setPill($("federalPill"),"full"); setPill($("statePill"),"half");
}
$("refreshBtn").onclick=refresh; refresh();
</script>
</body>
</html>
